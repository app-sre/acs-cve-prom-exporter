package main

import (
	"log"
	"os"

	"github.com/app-sre/acs-cve-prom-exporter/cmd/exporter"
)

const (
	AcsEndpoint = "ACS_ENDPOINT"
	AcsToken    = "ACS_TOKEN"
)

func main() {
	endpoint := os.Getenv(AcsEndpoint)
	if endpoint == "" {
		log.Fatalf("Required var missing: %s", AcsEndpoint)
	}
	token := os.Getenv(AcsToken)
	if token == "" {
		log.Fatalf("Required var missing: %s", AcsToken)
	}

	os.Exit(exporter.Run(endpoint, token))
}
